function storeMap(o,e){function t(o,t,n){var r=[],a=[],p=[];""==n?(r=[14,14],a=[7,7],p=[7,7]):"larger"==n?(r=[14*o,14*o],a=[14*o*.5,14*o*.5],p=[14*o*.5,14*o*.5]):"smaller"==n&&(r=[14/o,14/o],a=[14/o*.5,14/o*.5],p=[14/o*.5,14/o*.5]);for(var i=0;i<e.length;i++)l[i].setIcon(new s({iconSize:r,iconAnchor:[0,0],popupAnchor:a,tooltipAnchor:p,html:e[i].markerHtml}));$(".store_mark").find(".store_name").css("font-size",t)}var n=L.map("storeMap",{minZoom:1,maxZoom:3,continuousWorld:!1,noWrap:!0,crs:L.CRS.Simple,attributionControl:!1,scrollWheelZoom:!1}),r=new L.LatLngBounds(n.unproject([0,2500],n.getMaxZoom()),n.unproject([5200,0],n.getMaxZoom())),a=[n.unproject([0,950],n.getMaxZoom()).lat,n.unproject([2600,0],n.getMaxZoom()).lng];n.setMaxBounds(r),n.setView(a,2),L.control.attribution({prefix:!1}).addAttribution("Design by Weypro.").addTo(n),L.imageOverlay(o,r).addTo(n);for(var l=[],s=L.DivIcon.extend({options:{iconSize:[14,14],iconAnchor:[0,0],popupAnchor:[7,7],tooltipAnchor:[7,7],className:"store_mark"}}),p=0;p<e.length;p++){var i=[n.unproject([0,e[p].latlng[0]],n.getMaxZoom()).lat,n.unproject([e[p].latlng[1],0],n.getMaxZoom()).lng],m=L.responsivePopup().setContent(e[p].popupHtml),c=new L.marker(i,{icon:new s({html:e[p].markerHtml})}).bindTooltip(e[p].storeName).bindPopup(m,{maxWidth:"auto"}).addTo(n).on("popupopen",function(o){$(o.target._icon).addClass("isPopup"),$(".map_popup_inner").mCustomScrollbar({theme:"dark-3",axis:"y"})}).on("popupclose",function(o){$(o.target._icon).removeClass("isPopup")});l.push(c)}n.on("zoomend",function(){var o,e,r=n.getZoom();2==r?(o=1,e="0.75rem",t(o,e,"")):r>2?(o=Math.pow(2,r-2),e=.75*o+"rem",t(o,e,"larger")):r<2&&(o=Math.pow(2,2-r),e=.75/o+"rem",t(o,e,"smaller"))});var u;$("#storeMap").on("mousewheel DOMMouseScroll",function(o){o.stopPropagation(),1==o.ctrlKey?(o.preventDefault(),n.scrollWheelZoom.enable(),$("#storeMap").removeClass("map_scroll"),setTimeout(function(){n.scrollWheelZoom.disable()},1e3)):(n.scrollWheelZoom.disable(),$("#storeMap").addClass("map_scroll"),clearTimeout(u),u=setTimeout(function(){$("#storeMap").removeClass("map_scroll")},600))}),$(window).on("mousewheel DOMMouseScroll",function(o){$("#storeMap").removeClass("map_scroll")}),$(window).on("resize",function(){n.closePopup()})}