function storeMap(o,e){function t(o,t,r){var a;""==r?a=[14,14]:"larger"==r?a=[14*o,14*o]:"smaller"==r&&(a=[14/o,14/o]);for(var n=0;n<e.length;n++)l[n].setIcon(new s({iconSize:a,iconAnchor:[0,0],html:e[n].html}));$(".store_mark").find(".store_name").css("font-size",t)}var r=L.map("storeMap",{minZoom:1,maxZoom:3,continuousWorld:!1,noWrap:!0,crs:L.CRS.Simple,attributionControl:!1,scrollWheelZoom:!1}),a=new L.LatLngBounds(r.unproject([0,2500],r.getMaxZoom()),r.unproject([5200,0],r.getMaxZoom())),n=[r.unproject([0,950],r.getMaxZoom()).lat,r.unproject([2600,0],r.getMaxZoom()).lng];r.setMaxBounds(a),r.setView(n,2),L.control.attribution({prefix:!1}).addAttribution("Design by Weypro.").addTo(r),L.imageOverlay(o,a).addTo(r);for(var l=[],s=L.DivIcon.extend({options:{iconSize:[14,14],iconAnchor:[0,0],className:"store_mark"}}),m=0;m<e.length;m++){var c=[r.unproject([0,e[m].latlng[0]],r.getMaxZoom()).lat,r.unproject([e[m].latlng[1],0],r.getMaxZoom()).lng],i=new L.marker(c,{icon:new s({html:e[m].html})}).addTo(r);l.push(i)}$(document).on(clickHandler,".store_mark a",function(){alert($(this).data("storeid"))}),r.on("zoomend",function(){var o,e,a=r.getZoom();2==a?(o=1,e="0.75rem",t(o,e,"")):a>2?(o=Math.pow(2,a-2),e=.75*o+"rem",t(o,e,"larger")):a<2&&(o=Math.pow(2,2-a),e=.75/o+"rem",t(o,e,"smaller"))});var u;$("#storeMap").on("mousewheel DOMMouseScroll",function(o){o.stopPropagation(),1==o.ctrlKey?(o.preventDefault(),r.scrollWheelZoom.enable(),$("#storeMap").removeClass("map_scroll"),setTimeout(function(){r.scrollWheelZoom.disable()},1e3)):(r.scrollWheelZoom.disable(),$("#storeMap").addClass("map_scroll"),clearTimeout(u),u=setTimeout(function(){$("#storeMap").removeClass("map_scroll")},600))}),$(window).on("mousewheel DOMMouseScroll",function(o){$("#storeMap").removeClass("map_scroll")})}